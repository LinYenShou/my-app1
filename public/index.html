<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> æ—å½¥ç¢© - å€‹äººç¶²ç«™</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* CSS è®Šæ•¸ï¼šå®šç¾©æ•´å€‹ç¶²ç«™çš„é…è‰²å’Œå­—é«” */
        :root {
            --color-dark-bg: #0A0A0A; /* æ¥µæ·±é»‘è‰²èƒŒæ™¯ */
            --color-light-bg: #1B1B1B; /* å€å¡Šæ·±ç°èƒŒæ™¯ */
            --color-text-primary: #E0E0E0; /* ä¸»è¦æ–‡å­—æ·¡ç° */
            --color-text-secondary: #AAAAAA; /* æ¬¡è¦æ–‡å­—æ·¡ç° */
            --color-blue-primary: #00A6FF; /* é†’ç›®ç§‘æŠ€è— */
            --color-blue-accent: #0077B6; /* è—è‰²æ‡¸åœ/å¼·èª¿ */
            --font-code: 'Consolas', 'Menlo', monospace; /* ç¨‹å¼ç¢¼é¢¨æ ¼å­—é«” */
            --font-main: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* ä¸»è¦å…§å®¹å­—é«” */
        }

        /* é—œéµå¹€å‹•ç•«ï¼šé ­åƒå…‰æšˆå‘¼å¸ */
        @keyframes pulse-glow {
            0% { box-shadow: 0 0 10px rgba(0, 166, 255, 0.6), 0 0 0 rgba(0, 166, 255, 0); }
            50% { box-shadow: 0 0 25px rgba(0, 166, 255, 1), 0 0 15px rgba(0, 166, 255, 0.5); }
            100% { box-shadow: 0 0 10px rgba(0, 166, 255, 0.6), 0 0 0 rgba(0, 166, 255, 0); }
        }

        /* é—œéµå¹€å‹•ç•«ï¼šå…§å®¹æ·¡å…¥ä¸¦ä¸Šæµ® */
        @keyframes fadeInSlideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* é—œéµå¹€å‹•ç•«ï¼šå°èˆªåˆ—å¾ä¸Šæ–¹æ»‘å…¥ */
        @keyframes navSlideIn {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* å…¨å±€æ¨£å¼ */
        body {
            font-family: var(--font-main); /* ä½¿ç”¨ä¸»è¦å­—é«” */
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: var(--color-dark-bg);
            color: var(--color-text-primary);
            text-align: center;
            /* æ»¾å‹•æ•æ‰å®¹å™¨ */
            scroll-snap-type: y proximity; /* Yè»¸æ–¹å‘ï¼Œæ¥è¿‘æ™‚æ•æ‰ */
            overflow-y: scroll; /* å…è¨±å‚ç›´æ»¾å‹• */
            height: 100vh; /* ç¢ºä¿ body å¡«æ»¿è¦–çª—é«˜åº¦ */
        }

        /* å®¹å™¨ï¼Œé™åˆ¶å…§å®¹æœ€å¤§å¯¬åº¦ä¸¦å±…ä¸­ */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* å°èˆªåˆ—æ¨£å¼ */
        nav {
            background-color: rgba(0, 0, 0, 0.9);
            padding: 15px 0;
            border-bottom: 2px solid var(--color-blue-accent);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
            transform: translateY(-100%);
            transition: transform 0.5s ease-out, opacity 0.5s ease-out;
            opacity: 0;
        }

        nav.show { 
            transform: translateY(0);
            opacity: 1;
        }

        nav .nav-links {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        nav a {
            color: var(--color-text-primary);
            text-decoration: none;
            font-size: 1.1em;
            padding: 10px 15px;
            border-radius: 4px;
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
            position: relative;
        }
        
        nav a:hover {
            background-color: var(--color-blue-accent);
            color: white;
            text-decoration: none;
            transform: scale(1.05);
        }

        /* é é¦–æ¨£å¼ - é¦–é å¤§åœ–å€å¡Š */
        header {
            background-color: #003366;
            background-image: linear-gradient(135deg, #003366 0%, #0056b3 100%);
            color: white;
            padding: 80px 20px 40px;
            border-radius: 0 0 15px 15px;
            margin-bottom: 0;
            box-shadow: 0 8px 25px rgba(0, 166, 255, 0.3);
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            scroll-snap-align: start;
            animation: fadeInSlideUp 1.2s ease-out;
        }

        /* é é¦–å€‹äººç…§ç‰‡ - çŸ©å½¢æ¨£å¼ */
        header .profile-photo-wrapper {
            width: 300px;
            height: 400px;
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            border: 3px solid var(--color-blue-primary);
            box-shadow: 0 0 20px rgba(0, 166, 255, 0.8);
            animation: pulse-glow 3s infinite alternate;
        }

        header .profile-photo-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        header h1 {
            margin: 15px 0 5px;
            font-size: 3.5em;
            letter-spacing: 2px;
            text-shadow: 0 0 10px rgba(0, 166, 255, 0.5);
        }

        header p {
            font-size: 1.4em;
            opacity: 0.9;
            color: #C0C0C0;
        }

        /* -------------------------------------- */
        /* API & React æ¨£å¼ */
        /* -------------------------------------- */
        .resume-badge {
            display: inline-flex;
            align-items: center;
            padding: 10px 20px;
            margin-top: 15px;
            border-radius: 25px;
            color: white;
            font-weight: bold;
            font-size: 1.1em;
            box-shadow: 0 4px 15px rgba(0, 166, 255, 0.5);
            transition: transform 0.3s ease, background-color 0.3s ease;
        }
        
        .resume-badge:hover {
            transform: scale(1.05);
            opacity: 0.9;
        }
        
        .badge-icon {
            margin-right: 10px;
            font-size: 1.2em;
        }

        .weather-display {
            background-color: rgba(0, 0, 0, 0.4);
            padding: 15px 25px;
            border-radius: 10px;
            margin-top: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            color: white;
            font-size: 1.2em;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
            border: 1px solid var(--color-blue-accent);
            box-shadow: 0 0 15px rgba(0, 166, 255, 0.2);
        }

        /* -------------------------------------- */
        /* å€å¡Šæ¨£å¼ - å¡ç‰‡è¨­è¨ˆ */
        /* -------------------------------------- */
        section {
            background-color: var(--color-light-bg);
            padding: 40px;
            margin: 40px auto;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
            max-width: 800px;
            text-align: left;
            transition: transform 0.4s ease, box-shadow 0.4s ease;
            min-height: 50vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            scroll-snap-align: start;
            opacity: 0;
            transform: translateY(30px);
        }

        /* å€å¡Šé€²å…¥è¦–çª—æ™‚çš„å‹•ç•« */
        section.animated {
            animation: fadeInSlideUp 1s ease-out forwards;
        }
        
        /* å€å¡Šæ‡¸åœå¾®å…‰æ•ˆæœ */
        section:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 166, 255, 0.4), 0 0 30px rgba(0, 166, 255, 0.2);
        }

        section h2 {
            color: var(--color-blue-primary);
            border-bottom: 2px dashed var(--color-blue-accent);
            padding-bottom: 15px;
            margin-bottom: 25px;
            font-size: 2.5em;
            text-shadow: 0 0 8px rgba(0, 166, 255, 0.3);
        }
        
        /* åˆ—è¡¨æ¨£å¼ - æŠ€èƒ½/ç‰¹é» */
        ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        ul li {
            background-color: #252525;
            margin-bottom: 12px;
            padding: 15px 25px;
            border-radius: 8px;
            color: var(--color-text-primary);
            position: relative;
            overflow: hidden;
            transition: background-color 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease;
            text-align: left;
            padding-left: 40px;
        }
        
        section:not(#contact):not(#news-api):not(#ai-chat) ul li::before { /* æ’é™¤ #contact, #news-api, #ai-chat çš„åˆ—è¡¨ */
            content: 'â€º';
            font-family: var(--font-code);
            color: var(--color-blue-primary);
            font-weight: bold;
            font-size: 1.8em;
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            line-height: 1;
        }

        ul li:hover {
            background-color: #333333;
            transform: scale(1.02);
            box-shadow: 0 0 10px rgba(0, 166, 255, 0.2);
        }
        
        /* -------------------------------------- */
        /* ç”Ÿæ´»ç…§ç‰‡å€å¡Šæ¨£å¼ */
        /* -------------------------------------- */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
            text-align: center; /* è®“åœ–ç‰‡æ¨™é¡Œå±…ä¸­ */
        }

        .gallery-item {
            background-color: #2a2a2a;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .gallery-item:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 15px rgba(0, 166, 255, 0.3);
        }

        .gallery-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-item-caption {
            padding: 15px;
            font-size: 0.9em;
            color: var(--color-text-secondary);
        }

        /* -------------------------------------- */
        /* AI Chat å€å¡Š CSS */
        /* -------------------------------------- */
        .chat-window {
            height: 400px;
            overflow-y: auto;
            background-color: #000000;
            border: 1px solid var(--color-blue-accent);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 15px;
            line-height: 1.4;
            animation: fadeInSlideUp 0.5s ease-out;
        }

        .message.user {
            background-color: var(--color-blue-primary);
            color: var(--color-dark-bg);
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }

        .message.ai {
            background-color: #333333;
            color: var(--color-text-primary);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
            display: flex;
            align-items: flex-start;
        }
        
        .ai-icon {
            color: var(--color-blue-primary);
            margin-right: 10px;
            font-size: 1.2em;
            min-width: 1.2em;
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
        }
        
        .chat-input input {
            flex-grow: 1;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid var(--color-blue-accent);
            background-color: #252525;
            color: var(--color-text-primary);
            font-size: 1em;
        }

        .chat-input button {
            background-color: var(--color-blue-primary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-weight: bold;
        }

        .chat-input button:hover {
            background-color: var(--color-blue-accent);
        }

        /* é€£çµæ¨£å¼ */
        a {
            color: var(--color-blue-primary);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        a:hover {
            color: white;
            text-decoration: underline;
        }

        /* é è…³æ¨£å¼ */
        footer {
            margin-top: 50px;
            padding: 25px;
            background-color: #000000;
            color: var(--color-text-secondary);
            border-radius: 8px 8px 0 0;
            font-size: 0.95em;
            border-top: 2px solid var(--color-blue-accent);
            animation: fadeInSlideUp 1s ease-out 0.4s backwards;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="profile-photo-wrapper">
                <img src="images/mainphoto.jpg" alt="æ—å½¥ç¢©å€‹äººç…§ç‰‡"> </div>
            <h1>æ—å½¥ç¢©</h1>
            
            <div id="react-root" style ="margin-top:20px;"></div>
            
            <div id="weather-root" style ="margin-top:20px;">
                <p>æ­£åœ¨è¼‰å…¥å³æ™‚å¤©æ°£...</p>
            </div>

        </header>
    
        <nav id="mainNav">
            <div class="nav-links">
                <a href="#about">é—œæ–¼æˆ‘</a>
                <a href="#specialties">æˆ‘çš„ç‰¹è‰²</a>
                <a href="#photos">ç”Ÿæ´»ç…§ç‰‡</a>
                <a href="#news-api">æœ€æ–°è³‡è¨Š</a>
                <a href="#ai-chat">AI å°è©±</a>
                <a href="#contact">è¯çµ¡æˆ‘</a>
            </div>
        </nav>
        
        <section id="about">
            <h2>é—œæ–¼æˆ‘</h2>
            <p>æˆ‘æ˜¯æ—å½¥ç¢©ï¼Œå°±è®€æ–¼åœ‹ç«‹è‡ºç£å¸«ç¯„å¤§å­¸ç§‘æŠ€ç³»ã€‚å€‹äººèˆˆè¶£æ˜¯åœ¨å®¶è£¡ç©éŠæˆ²æˆ–èˆ‡å¶çˆ¾èˆ‡å®¶äººæœ‹å‹å‡ºé–€è¸é’æˆ–é€›è¡—ã€‚</p>
            
            <h3>æˆ‘çš„ç¶“æ­·</h3>
            <ul>
                <li>ç†Ÿæ‚‰é«˜ä¸­ä»¥ä¸‹æ•¸å­¸ï¼Œä¹Ÿåœ¨é«˜ä¸­æ•¸å­¸è£œç¿’ç­ä¸­æ•™å­¸ï¼Œå°æœ‰è¶£çš„æ•¸å­¸å……æ»¿èˆˆè¶£ã€‚</li>
                <li>åœ¨é«˜ä¸­çš„æš‘æœŸèª²ç¨‹ä¸­å’Œçµ„å“¡ä¸€èµ·ç”¨arduinoè£½ä½œï¼Œè‡ªå‹•æŠ½è¡›ç”Ÿç´™æ©Ÿå™¨äººã€‚</li>
                <li>åœ¨é«˜äºŒæ™‚è£½ä½œé—œæ–¼è‚¥æ–™å¦‚ä½•å½±éŸ¿æ¤ç‰©ç”Ÿé•·çš„å°è«–æ–‡ï¼Œä¹Ÿåœ¨å°è«–æ–‡æ¯”è³½ä¸­å¾—åˆ°äº†ç”²ç­‰ã€‚</li>
                <li>ç›®å‰åœ¨å¤§å­¸èªçœŸå­¸ç¿’æœ¬ç§‘ç³»å¤–ï¼Œä¹Ÿåœ¨åŠªåŠ›é›™ä¸»ä¿®é›»æ©Ÿã€‚</li>
            </ul>
        </section>
    
        <section id="specialties">
            <h2>æˆ‘çš„ç‰¹è‰²</h2>
            <p>åŠªåŠ›å­¸ç¿’ä¸åŒé ˜åŸŸçš„çŸ¥è­˜ï¼Œè®“æˆ‘å¯ä»¥é †æ‡‰é€™å€‹ä¸–ä»£ï¼š</p>
            
            <h3>å€‹äººç‰¹è³ª</h3>
            <ul>
                <li>ç†±æƒ…ä½†æˆ‘å¾ˆå…§å‘ï¼Œåœ¨å¿…è¦çš„å ´åˆæ‰æœƒæ‹¿å‡ºæˆ‘çš„å‹‡æ°£èŠå¤©ã€‚</li>
                <li>è®€æ›¸èªçœŸï¼Œå°å¾…è‡ªå·±çš„èª²æ¥­ç›¸ç•¶èªçœŸã€‚</li>
                <li>å°å–œæ­¡çš„äº‹ç‰©æœƒèªçœŸå°ˆç ”ï¼Œä¹Ÿæœƒå»æ‰¾åˆ°å•é¡Œçš„è§£ç­”ã€‚</li>
                <li>æœ‰åœ˜éšŠèƒ½åŠ›ï¼Œåœ¨é«˜ä¸­åšå„ç¨®å ±å‘Šéƒ½æ˜¯èº«ç‚ºçµ„é•·ï¼Œå¸¶é ˜çµ„å“¡å®Œæˆå·¥ä½œã€‚</li>
            </ul>
        </section>

        <section id="photos">
            <h2>ç”Ÿæ´»ç…§ç‰‡</h2>
            <p>å¶çˆ¾ä¹Ÿæœƒè—‰ç”±ç…§ç‰‡è¨˜éŒ„ç”Ÿæ´»ã€‚</p>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="images/photodog1.JPG" alt="ç”Ÿæ´»ç…§ç‰‡ 1"> <div class="gallery-item-caption">å®¶çŠ¬</div>
                </div>
                <div class="gallery-item">
                    <img src="images/photo2.JPG" alt="ç”Ÿæ´»ç…§ç‰‡ 2"> <div class="gallery-item-caption">æˆ¶å¤–è¸é’</div>
                </div>
                <div class="gallery-item">
                    <img src="images/photo3.JPG" alt="ç”Ÿæ´»ç…§ç‰‡ 3"> <div class="gallery-item-caption">ç”Ÿæ´»ç…§</div>
                </div>
                <div class="gallery-item">
                    <img src="images/photo4.JPG" alt="ç”Ÿæ´»ç…§ç‰‡ 4"> <div class="gallery-item-caption">çœ‹æµ·</div>
                </div>
            </div>
        </section>
        
        <section id="news-api">
            <h2>æœ€æ–°ç§‘æŠ€è³‡è¨Š</h2>
            <p>å³æ™‚é—œæ³¨ç§‘æŠ€è¶¨å‹¢ï¼Œä¿æŒå­¸ç¿’ç†±å¿±ã€‚</p>
            <div id="news-feed-root" class="news-feed">
                <p>æ­£åœ¨è¼‰å…¥æœ€æ–°ç§‘æŠ€æ–°è...</p>
            </div>
        </section>

        <section id="ai-chat">
            <h2>å‘ Gemini AI æå•</h2>
            <p>æ­¡è¿åœ¨é€™è£¡èˆ‡ AI äº¤æµã€‚**ç›®å‰ç‚ºå‰ç«¯æ¨¡æ“¬ï¼Œå¦‚éœ€çœŸå¯¦é€£ç·šè«‹éƒ¨ç½²å¾Œç«¯æœå‹™ã€‚**</p>
            
            <div id="chat-window" class="chat-window">
                <div class="message ai">
                    <span class="ai-icon"><i class="fas fa-robot"></i></span>
                    <span>å“ˆå›‰ï¼æˆ‘æ˜¯é€™å€‹ç¶²ç«™çš„ AI åŠ©ç†ã€‚æ‚¨å¯ä»¥å•æˆ‘ä»»ä½•é—œæ–¼**æ—å½¥ç¢©**çš„å•é¡Œï¼Œæˆ–è€…é—œæ–¼ç§‘æŠ€è¶¨å‹¢çš„å•é¡Œï¼</span>
                </div>
            </div>
            
            <div class="chat-input">
                <input type="text" id="chat-input-field" placeholder="è¼¸å…¥æ‚¨çš„å•é¡Œ..." onkeypress="if(event.key === 'Enter') document.getElementById('chat-send-button').click()">
                <button id="chat-send-button"><i class="fas fa-paper-plane"></i> ç™¼é€</button>
            </div>
        </section>
        
        <section id="contact">
            <h2>è¯çµ¡æˆ‘</h2>
            <p>æ­¡è¿éš¨æ™‚é€éä»¥ä¸‹æ–¹å¼èˆ‡æˆ‘è¯ç¹«ï¼</p>
            
            <ul class="fa-ul">
                <li><span class="fa-li"><i class="fas fa-envelope" style="color:var(--color-blue-primary);"></i></span>Email: <a href="mailto:413711114h@gapps.ntnu.edu.tw">413711114h@gapps.ntnu.edu.tw</a></li>
                <li><span class="fa-li"><i class="fab fa-linkedin" style="color:var(--color-blue-primary);"></i></span>LinkedIn: <a href="https://www.linkedin.com/feed/?trk=guest_homepage-basic_google-one-tap-submit" target="_blank">æˆ‘çš„ LinkedIn å€‹äººé é¢</a></li>
                <li><span class="fa-li"><i class="fab fa-github" style="color:var(--color-blue-primary);"></i></span>GitHub: <a href="https://github.com/LinYenShou" target="_blank">LinYenShou çš„ GitHub ç¨‹å¼ç¢¼åº«</a></li>
            </ul>
        </section>
    
        <footer>
            <p>ç·¨ç¢¼æ–¼ 2025 | Powered by LinYenShou | ç‰ˆæ¬Šæ‰€æœ‰ &copy; 2025</p>
        </footer>
    </div>

    <script type="text/babel">
        // ----------------------------------------------------
        // ğŸš€ React äº’å‹•å…ƒä»¶ï¼šç‹€æ…‹åˆ‡æ›å¾½ç«  (é»æ“Šå¯åˆ‡æ›)
        // ----------------------------------------------------
        const { useState, useEffect } = React;

        const InteractiveStatusBadge = () => {
            const [status, setStatus] = useState({
                text: "é–‹æ”¾å­¸ç¿’äº¤æµæ©Ÿæœƒ",
                iconClass: "fas fa-briefcase",
                color: "#00A6FF"
            });

            const statusList = [
                { text: "é–‹æ”¾å­¸ç¿’äº¤æµæ©Ÿæœƒ", iconClass: "fas fa-briefcase", color: "#00A6FF" },
                { text: "âš¡ ä»Šæ—¥å°ˆæ³¨å¯«ç¨‹å¼", iconClass: "fas fa-code", color: "#FFD700" },
                { text: "ğŸ® æ­£åœ¨ä¼‘æ¯ä¸­...", iconClass: "fas fa-gamepad", color: "#FF4500" },
            ];
            
            const handleBadgeClick = () => {
                const currentIndex = statusList.findIndex(s => s.text === status.text);
                const nextIndex = (currentIndex + 1) % statusList.length;
                setStatus(statusList[nextIndex]);
            };

            return (
                <div 
                    className="resume-badge" 
                    onClick={handleBadgeClick} 
                    style={{
                        backgroundColor: status.color, 
                        cursor: 'pointer',
                        boxShadow: `0 4px 15px ${status.color}80` 
                    }}
                >
                    <i className={`${status.iconClass} badge-icon`}></i>
                    {status.text}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('react-root'));
        root.render(<InteractiveStatusBadge />);
    </script>
    
    <script>
        // ----------------------------------------------------
        // ğŸš€ API 1: Weather API æ•´åˆ
        // ----------------------------------------------------
        // WeatherAPI Key: 7df5f3e652f0410b872105211250112
        const WEATHER_API_KEY = '7df5f3e652f0410b872105211250112'; 
        const WEATHER_CITY = 'Taipei'; 
        const weatherRoot = document.getElementById('weather-root');
        
        async function fetchWeather() {
            const url = `https://api.weatherapi.com/v1/current.json?key=${WEATHER_API_KEY}&q=${WEATHER_CITY}&lang=zh_tw`;
            
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error(`å¤©æ°£è³‡è¨Šè¼‰å…¥å¤±æ•—: ${response.statusText}`);
                }
                const data = await response.json();
                
                const location = data.location.name;
                const tempC = data.current.temp_c;
                const conditionText = data.current.condition.text;
                const iconUrl = data.current.condition.icon;
                
                weatherRoot.innerHTML = `
                    <div class="weather-display">
                        <i class="fas fa-location-dot" style="color:var(--color-blue-primary);"></i>
                        <span>${location} å³æ™‚å¤©æ°£ï¼š</span>
                        <img src="https:${iconUrl}" alt="${conditionText}" style="width:30px; height:30px;">
                        <span>${tempC}Â°C</span>
                        <span style="color:#FFF;">|</span>
                        <span>${conditionText}</span>
                    </div>
                `;
            } catch (error) {
                console.error("ç²å–å¤©æ°£è³‡è¨Šå‡ºéŒ¯:", error);
                weatherRoot.innerHTML = `<p style="color:red;">å¤©æ°£è³‡è¨Šè¼‰å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥é‡‘é‘°æˆ–ç¶²è·¯ã€‚</p>`;
            }
        }

        // ----------------------------------------------------
        // ğŸš€ API 2: Serp API æ•´åˆ (æ–°èè³‡è¨Š)
        // ----------------------------------------------------
        // SerpAPI Key: fb13aee3bf83990b933394082ac6e5673fadae6d8f5cbf9e45d7fd57e990781f
        const SERP_API_KEY = 'fb13aee3bf83990b933394082ac6e5673fadae6d8f5cbf9e45d7fd57e990781f'; 
        const newsRoot = document.getElementById('news-feed-root');
        
        async function fetchNews() {
            const query = 'å°ç£ç§‘æŠ€æ–°è';
            const url = `https://serpapi.com/search.json?engine=google_news&q=${encodeURIComponent(query)}&gl=tw&hl=zh-tw&api_key=${SERP_API_KEY}`;
            
            try {
                var newsResults;
                if (window.location.protocol !== 'file:') {
                    const response = await fetch(url);
                    if (!response.ok) {
                        throw new Error(`æ–°èè³‡è¨Šè¼‰å…¥å¤±æ•—: ${response.statusText}`);
                    }
                    const data = await response.json();
                    newsResults = data.news_results ? data.news_results.slice(0, 5) : [];
                } else {
                    newsResults = [
                        { title: "ç„¡æ³•é€£ç·šï¼šè«‹éƒ¨ç½²åˆ°ä¼ºæœå™¨ä»¥æ¸¬è©¦SerpAPI", link: "#", source: "ç³»çµ±æç¤º", date: "Now" },
                        { title: "ç§‘æŠ€æ¥­å‚³èï¼šæ™¶ç‰‡å¤§å» å°‡æ¨å‡ºé©å‘½æ€§æ–°ç”¢å“", link: "#", source: "ç§‘æŠ€æ—¥å ±", date: "1å°æ™‚å‰" },
                        { title: "AI ç®—åŠ›éœ€æ±‚æŒçºŒæ”€å‡ï¼Œå„åœ‹ç©æ¥µæŠ•å…¥å»ºè¨­", link: "#", source: "åœ‹éš›æ–°è", date: "2å¤©å‰" },
                    ];
                }
                
                if (newsResults.length === 0) {
                    newsRoot.innerHTML = `<p>ç›®å‰æ²’æœ‰æœ€æ–°çš„ç§‘æŠ€æ–°èã€‚</p>`;
                    return;
                }
                
                let newsHtml = '<ul>';
                newsResults.forEach(item => {
                    newsHtml += `
                        <li>
                            <a href="${item.link}" target="_blank">
                                <i class="fas fa-newspaper" style="color:#FFF;"></i> ${item.title}
                                <br>
                                <span style="font-size: 0.8em; color: var(--color-text-secondary);">${item.source} - ${item.date}</span>
                            </a>
                        </li>
                    `;
                });
                newsHtml += '</ul>';

                newsRoot.innerHTML = newsHtml;

            } catch (error) {
                console.error("ç²å–æ–°èè³‡è¨Šå‡ºéŒ¯:", error);
                newsRoot.innerHTML = `<p style="color:red;">æœ€æ–°ç§‘æŠ€æ–°èè¼‰å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥é‡‘é‘°æˆ– CORS å•é¡Œã€‚</p>`;
            }
        }
        
        // ----------------------------------------------------
        // ğŸš€ AI Chat äº’å‹•é‚è¼¯ (å‰ç«¯æ¨¡æ“¬)
        // ----------------------------------------------------
        function setupAIChat() {
            const chatWindow = document.getElementById('chat-window');
            const inputField = document.getElementById('chat-input-field');
            const sendButton = document.getElementById('chat-send-button');

            function scrollToBottom() {
                chatWindow.scrollTop = chatWindow.scrollHeight;
            }

            function addMessage(text, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message', sender);
                
                if (sender === 'ai') {
                    messageDiv.innerHTML = `<span class="ai-icon"><i class="fas fa-robot"></i></span><span>${text}</span>`;
                } else {
                    messageDiv.textContent = text;
                }
                
                chatWindow.appendChild(messageDiv);
                scrollToBottom();
            }

            function getMockAIResponse(userMessage) {
                userMessage = userMessage.toLowerCase();
                
                if (userMessage.includes('æ—å½¥ç¢©') || userMessage.includes('ä½ èªè­˜')) {
                    return "æˆ‘èªè­˜æ—å½¥ç¢©ï¼ä»–ç›®å‰å°±è®€åœ‹ç«‹è‡ºç£å¸«ç¯„å¤§å­¸ç§‘æŠ€ç³»ï¼ŒåŒæ™‚é‚„åœ¨åŠªåŠ›é›™ä¸»ä¿®é›»æ©Ÿç³»ã€‚ä»–å°æ•¸å­¸å’Œç§‘æŠ€ç ”ç©¶éƒ½å¾ˆæœ‰ç†±å¿±ã€‚";
                } else if (userMessage.includes('èˆˆè¶£')) {
                    return "æ—å½¥ç¢©çš„èˆˆè¶£åŒ…æ‹¬åœ¨å®¶ç©éŠæˆ²ã€å¶çˆ¾èˆ‡å®¶äººæœ‹å‹å‡ºé–€è¸é’æˆ–é€›è¡—ã€‚";
                } else if (userMessage.includes('api') || userMessage.includes('ç¨‹å¼')) {
                    return "æ‚¨å° API æ•´åˆæœ‰èˆˆè¶£å—ï¼Ÿå¦‚æœé€™å€‹ç¶²ç«™éƒ¨ç½²äº†å¾Œç«¯ï¼Œæˆ‘å€‘å°±èƒ½é€²è¡ŒçœŸæ­£çš„ AI å°è©±ã€‚ä»–ç›®å‰çš„ä¸»è¦æŠ€èƒ½æ˜¯é›»å­å·¥ç¨‹èˆ‡åŸºç¤ç¨‹å¼è¨­è¨ˆï¼";
                } else {
                    const responses = [
                        "é€™æ˜¯ä¸€å€‹å¾ˆå¥½çš„å•é¡Œï¼ç”±æ–¼ç›®å‰æ˜¯å‰ç«¯æ¨¡æ“¬ï¼Œæˆ‘åªèƒ½çµ¦æ‚¨ä¸€å€‹æ¨£æ¿å›è¦†ã€‚è«‹å˜—è©¦å•æˆ‘é—œæ–¼æ—å½¥ç¢©çš„è³‡è¨Šã€‚",
                        "æˆ‘æ­£åœ¨æ€è€ƒæ‚¨çš„å•é¡Œï¼Œè«‹ç¨ç­‰... (æ¨¡æ“¬å»¶é²)",
                        "æ„Ÿè¬æ‚¨çš„æå•ï¼å¦‚æœé€™æ˜¯å¯¦éš›çš„ AI æœå‹™ï¼Œæˆ‘æœƒç‚ºæ‚¨æä¾›æ›´ç²¾æº–çš„ç­”æ¡ˆã€‚",
                        "æ‚¨å°ä»€éº¼é ˜åŸŸçš„ç§‘æŠ€è¶¨å‹¢æ„Ÿèˆˆè¶£å‘¢ï¼Ÿ"
                    ];
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            }
            
            function sendMessage() {
                const message = inputField.value.trim();
                if (message === '') return;

                addMessage(message, 'user');
                inputField.value = '';
                sendButton.disabled = true;

                setTimeout(() => {
                    const aiResponse = getMockAIResponse(message);
                    addMessage(aiResponse, 'ai');
                    sendButton.disabled = false;
                }, 1000); 
            }

            sendButton.addEventListener('click', sendMessage);
            // å…è¨±æŒ‰ Enter éµç™¼é€
            inputField.addEventListener('keypress', function(event) {
                if (event.key === 'Enter') {
                    event.preventDefault(); // é˜²æ­¢æ›è¡Œ
                    sendMessage();
                }
            });
        }


        // ----------------------------------------------------
        // é é¢æ»¾å‹•èˆ‡å‹•ç•«æ§åˆ¶
        // ----------------------------------------------------
        document.addEventListener('DOMContentLoaded', () => {
            // åˆå§‹è¼‰å…¥ API è³‡æ–™
            fetchWeather();
            fetchNews(); 
            // è¨­ç½® AI Chat äº’å‹•
            setupAIChat(); 

            // æ»¾å‹•å‹•ç•«å’Œå°èˆªæ§åˆ¶é‚è¼¯
            const sections = document.querySelectorAll('section');
            const nav = document.getElementById('mainNav');

            const observerOptions = {
                root: null, 
                rootMargin: '0px',
                threshold: 0.1 
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animated'); 
                    } else {
                        entry.target.classList.remove('animated');
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                observer.observe(section); 
            });

            // æ§åˆ¶å°èˆªåˆ—çš„é¡¯ç¤º/éš±è—
            window.addEventListener('scroll', () => {
                const header = document.querySelector('header');
                const headerRect = header.getBoundingClientRect();

                if (headerRect.bottom > 100) { 
                    nav.classList.remove('show');
                } else {
                    nav.classList.add('show');
                }
            });

            window.dispatchEvent(new Event('scroll'));
        });
    </script>
</body>
</html>
